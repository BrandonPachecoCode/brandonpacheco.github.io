<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brandon Pacheco — Brands</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Page-specific overrides (so this works even if styles.css is cached) -->
  <style>
    /* ---- BRANDS: make logos bigger + keep layout clean ---- */
    .brands-grid{
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)) !important;
      gap: 2.2rem 2rem !important;
    }

    .brands-grid img{
      max-width: 330px !important;
      max-height: 156px !important;
      padding: 22px 26px !important;
      border-radius: 18px !important;
    }

    /* ---- MODAL: portrait default + landscape mode for YouTube / flagged items ---- */
    .video-modal-content{
      width: min(92vw, 420px);
      aspect-ratio: 9 / 16;
      background: #000;
      border-radius: 18px;
      overflow: hidden;
      position: relative;
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow: 0 30px 90px rgba(0,0,0,0.8);
    }

    .video-modal-content.landscape{
      width: min(92vw, 980px);
      aspect-ratio: 16 / 9;
    }

    .video-frame{ width: 100%; height: 100%; }
    .video-frame iframe{ width: 100%; height: 100%; border: 0; display:block; }

    /* ✅ REQUIRED: modal show/hide */
    .video-modal{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.86);
      display: none;                 /* hidden by default */
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: 20px;
    }
    .video-modal.active{ display: flex; }

    .video-close{
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 2;
      width: 40px;
      height: 40px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.55);
      color: #fff;
      font-size: 1.6rem;
      line-height: 1;
      cursor: pointer;
    }
  </style>
</head>

<body>

<nav class="top-nav">
  <a href="index.html" class="nav-link">Showreel</a>
  <a href="talent.html" class="nav-link">Talent</a>
  <a href="brands.html" class="nav-link active">Brands</a>
  <a href="updates.html" class="nav-link">Latest</a>
</nav>

<header class="container">
  <h1>Brands</h1>
  <p class="subtitle">Brands I’ve worked with.</p>
</header>

<main class="container brands-page">
  <div class="brands-grid">

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C06-lMvoay8/">
      <div class="brand-item"><img src="logos/aardman.png" alt="Aardman"><span class="brand-name">Aardman</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/CyBfcSGtN7G/">
      <div class="brand-item"><img src="logos/adidas.png" alt="Adidas"><span class="brand-name">Adidas</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DDFWSKWNGGU/">
      <div class="brand-item"><img src="logos/google.png" alt="Google"><span class="brand-name">Google</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DEFQuGOIX-w/">
      <div class="brand-item"><img src="logos/hello-fresh.png" alt="HelloFresh"><span class="brand-name">HelloFresh</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DMQUysXIRP0/">
      <div class="brand-item"><img src="logos/apple.png" alt="Apple"><span class="brand-name">Apple</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C3F3P39ocMy/">
      <div class="brand-item"><img src="logos/bbc.png" alt="BBC"><span class="brand-name">BBC</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DLkijNYo1Pi/">
      <div class="brand-item"><img src="logos/cheez-it.png" alt="Cheez-It"><span class="brand-name">Cheez-It</span></div>
    </a>

    <a class="brand-link" href="#"
       data-video="https://www.youtube.com/watch?v=063FqEfBTns"
       data-orientation="landscape">
      <div class="brand-item">
        <img src="logos/chicken-shop-date.png" alt="Chicken Shop Date">
        <span class="brand-name">Chicken Shop Date</span>
      </div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DR4tv4viD6X/">
      <div class="brand-item"><img src="logos/volvo.png" alt="Volvo"><span class="brand-name">Volvo</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C_U-qBbuzJd/">
      <div class="brand-item"><img src="logos/comfort-cases.png" alt="Comfort Cases"><span class="brand-name">Comfort Cases</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/p/DQOe8tajP5D/">
      <div class="brand-item"><img src="logos/disney.png" alt="Disney"><span class="brand-name">Disney</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/p/DL5OrTTIT_h/">
      <div class="brand-item"><img src="logos/american-express.png" alt="American Express"><span class="brand-name">American Express</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DQgnmRfjS18/">
      <div class="brand-item"><img src="logos/epic-games.png" alt="Epic Games"><span class="brand-name">Epic Games</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C7j-kYpt5w1/">
      <div class="brand-item"><img src="logos/lego.png" alt="LEGO"><span class="brand-name">LEGO</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DCzbrn7tGmG/">
      <div class="brand-item"><img src="logos/tesco.png" alt="Tesco" /><span class="brand-name">Tesco</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DNgPKlmI9PB/">
      <div class="brand-item"><img src="logos/staedtler.png" alt="STAEDTLER" /><span class="brand-name">STAEDTLER</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DHL_BcpIcNg/">
      <div class="brand-item"><img src="logos/crufts.png" alt="Crufts"><span class="brand-name">Crufts</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DKEjAR8o9hC/">
      <div class="brand-item"><img src="logos/dairylea.png" alt="Dairylea"><span class="brand-name">Dairylea</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C7YrW0xMfvM/">
      <div class="brand-item"><img src="logos/deichmann.png" alt="Deichmann"><span class="brand-name">Deichmann</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/p/DKpU-lBNwze/">
      <div class="brand-item"><img src="logos/happy-mum-happy-baby.png" alt="HAPPY MUM HAPPY BABY"><span class="brand-name">HAPPY MUM HAPPY BABY</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DPjaD9PiJlJ/">
      <div class="brand-item"><img src="logos/deliveroo.png" alt="Deliveroo"><span class="brand-name">Deliveroo</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/p/DJtMkccMuHU/">
      <div class="brand-item"><img src="logos/ancient&brave.png" alt="Ancient & Brave"><span class="brand-name">Ancient & Brave</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C22lBJEt-Gd/">
      <div class="brand-item"><img src="logos/888-poker.png" alt="888 Poker"><span class="brand-name">888 Poker</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DNfUnx8s2pR/">
      <div class="brand-item"><img src="logos/cotton-traders.png" alt="Cotton Traders"><span class="brand-name">Cotton Traders</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DCmkFeUNIlF/">
      <div class="brand-item"><img src="logos/dreamtoys.png" alt="DreamToys"><span class="brand-name">DreamToys</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DCPLwZiIa5N/">
      <div class="brand-item"><img src="logos/garnier.png" alt="Garnier"><span class="brand-name">Garnier</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C84sKlctwQ9/">
      <div class="brand-item"><img src="logos/zarbees.png" alt="Zarbee’s"><span class="brand-name">Zarbee’s</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/p/DMA-gILtg05/">
      <div class="brand-item"><img src="logos/happy-place.png" alt="Happy Place"><span class="brand-name">Happy Place</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C5Bq677tv3x/">
      <div class="brand-item"><img src="logos/invisilign.png" alt="Invisalign"><span class="brand-name">Invisalign</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DIJ6pvPIgZ_/">
      <div class="brand-item"><img src="logos/nip+fab.png" alt="NIP+FAB"><span class="brand-name">NIP+FAB</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C7jw3sCI04-/">
      <div class="brand-item"><img src="logos/regatta.png" alt="Regatta"><span class="brand-name">RegATTA</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DOWWds9jTnj/">
      <div class="brand-item"><img src="logos/rocks.png" alt="Rocks"><span class="brand-name">Rocks</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.youtube.com/watch?v=eO0FUfOgP98">
      <div class="brand-item"><img src="logos/santander.png" alt="Santander"><span class="brand-name">Santander</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DKoePGXo24X/">
      <div class="brand-item"><img src="logos/tough-mudder.png" alt="Tough Mudder"><span class="brand-name">Tough Mudder</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DHLdCDhMlVw/">
      <div class="brand-item"><img src="logos/trinny-london.png" alt="Trinny London"><span class="brand-name">Trinny London</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DCFFZq9N2ol/">
      <div class="brand-item"><img src="logos/unilever.png" alt="Unilever"><span class="brand-name">Unilever</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DRtx1EyDKxh/">
      <div class="brand-item"><img src="logos/vax.png" alt="VAX"><span class="brand-name">VAX</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/p/C9AfO4pInnB/">
      <div class="brand-item"><img src="logos/vodafone.png" alt="Vodafone"><span class="brand-name">Vodafone</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C7Uab61NuVU/">
      <div class="brand-item"><img src="logos/which.png" alt="Which?"><span class="brand-name">Which?</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/C8e8vbDIS0K/">
      <div class="brand-item"><img src="logos/wild-nutrition.png" alt="Wild Nutrition"><span class="brand-name">Wild Nutrition</span></div>
    </a>

    <a class="brand-link" href="#" data-video="https://www.instagram.com/reel/DCUennVIYAp/">
      <div class="brand-item"><img src="logos/foodspring.png" alt="foodSpring"><span class="brand-name">foodSpring</span></div>
    </a>

  </div>
</main>

<script>
(function(){
  // Elements from your markup
  const modal = document.getElementById("video-modal");
  const modalContent = modal ? modal.querySelector(".video-modal-content") : null;
  const frame = modal ? modal.querySelector(".video-frame") : null;
  const closeBtn = modal ? modal.querySelector(".video-close") : null;

  if (!modal || !modalContent || !frame || !closeBtn) {
    console.warn("Video modal markup missing one or more nodes: modal, modalContent, frame, closeBtn");
    return;
  }

  // Helpers to convert URLs to embed URLs (YouTube / Vimeo)
  function toYouTubeEmbed(url) {
    try {
      const u = new URL(url, location.href);
      if (u.hostname.includes("youtu.be")) {
        const id = u.pathname.slice(1);
        return `https://www.youtube.com/embed/${id}?autoplay=1&rel=0`;
      }
      if (u.hostname.includes("youtube.com")) {
        const v = u.searchParams.get("v");
        if (v) return `https://www.youtube.com/embed/${v}?autoplay=1&rel=0`;
        // handle /embed/ or /shorts/
        const pathParts = u.pathname.split("/").filter(Boolean);
        const maybe = pathParts.pop();
        if (maybe) return `https://www.youtube.com/embed/${maybe}?autoplay=1&rel=0`;
      }
    } catch(e){ /* ignore */ }
    return null;
  }

  function toVimeoEmbed(url) {
    try {
      const u = new URL(url, location.href);
      if (u.hostname.includes("vimeo.com")) {
        const parts = u.pathname.split("/").filter(Boolean);
        const id = parts.pop();
        if (id && !isNaN(Number(id))) return `https://player.vimeo.com/video/${id}?autoplay=1`;
      }
    } catch(e){ /* ignore */ }
    return null;
  }

  // open/close
  function openModal(embedUrl, orientation) {
    // orientation optional: landscape/portrait class on modalContent
    modalContent.classList.toggle("landscape", orientation === "landscape");

    // ensure an iframe only for embed urls
    if (!embedUrl) return console.warn("openModal called without embedUrl");
    frame.innerHTML = ""; // clean
    const iframe = document.createElement("iframe");
    iframe.src = embedUrl;
    iframe.title = "Video";
    iframe.setAttribute("allow", "autoplay; encrypted-media; fullscreen; picture-in-picture");
    iframe.setAttribute("allowfullscreen", "");
    iframe.loading = "lazy";
    iframe.style.width = "100%";
    iframe.style.height = "100%";
    frame.appendChild(iframe);

    modal.classList.add("active");
    modal.setAttribute("aria-hidden", "false");
    document.documentElement.style.overflow = "hidden";
    document.body.style.overflow = "hidden";

    // move focus into modal for accessibility
    closeBtn.focus();
  }

  function closeModal() {
    modal.classList.remove("active");
    modal.setAttribute("aria-hidden", "true");
    frame.innerHTML = "";
    modalContent.classList.remove("landscape");
    document.documentElement.style.overflow = "";
    document.body.style.overflow = "";
  }

  closeBtn.addEventListener("click", closeModal);
  modal.addEventListener("click", (e) => { if (e.target === modal || e.target === modal.querySelector(".video-modal-content")) closeModal(); });
  document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeModal(); });

  // Delegated click handler: open modal for elements with data-video or .brand-link
  document.addEventListener("click", function(ev){
    // find element with data-video or class brand-link
    const clicked = ev.target.closest && (ev.target.closest("[data-video]") || ev.target.closest(".brand-link"));
    if (!clicked) return;

    // If it's an <a> with modifiers, let browser handle (open in new tab)
    if (ev.metaKey || ev.ctrlKey || ev.shiftKey || ev.altKey) return;

    // Prevent default navigation
    ev.preventDefault();

    // Prefer dataset video attribute
    const url = clicked.dataset && (clicked.dataset.video || clicked.getAttribute("href") || clicked.dataset.url || clicked.dataset.link);
    if (!url) {
      console.warn("Clicked brand has no data-video/href/data-url: ", clicked);
      return;
    }

    // Try YouTube -> Vimeo -> fallback open in new tab
    const youEmbed = toYouTubeEmbed(url);
    if (youEmbed) { openModal(youEmbed, "landscape"); return; }

    const vEmbed = toVimeoEmbed(url);
    if (vEmbed) { openModal(vEmbed, "landscape"); return; }

    // Instagram / other hosts often don't allow simple iframe embedding; fall back to opening in new tab
    // If you specifically want Instagram embed inside the site you'll need to use oEmbed or Instagram's embed JS.
    if (url.includes("instagram.com")) {
      // Optional: try instagram oembed path (not reliable cross-origin) — fallback: open new tab
      window.open(url, "_blank", "noopener");
      return;
    }

    // Any other absolute URL — open in new tab (safe fallback)
    if (/^https?:\/\//i.test(url)) {
      window.open(url, "_blank", "noopener");
      return;
    }

    // Relative link -> navigate
    window.location.href = url;
  }, true);

  // Optional: expose debugging helper
  window.__videoModalDebug = () => {
    console.log("modal present:", !!modal, "frame element:", frame, "closeBtn:", closeBtn);
  };

})();
</script>
